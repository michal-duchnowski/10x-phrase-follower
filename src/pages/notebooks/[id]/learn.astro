---
import AppLayout from "../../../layouts/AppLayout.astro";
import AuthGuard from "../../../components/AuthGuard";
import LearnView from "../../../components/LearnView";

const { id } = Astro.params;
const difficulty = Astro.url.searchParams.get("difficulty");

if (!id) {
  return Astro.redirect("/notebooks");
}
---

<AppLayout title="Learn mode - Phrase Follower" currentPath={`/notebooks/${id}/learn`} fullWidth={true}>
  <AuthGuard client:load>
    <LearnView notebookId={id} difficultyFilter={difficulty || undefined} client:load />
  </AuthGuard>
</AppLayout>
